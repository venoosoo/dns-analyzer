# dns_test.py

Цей скрипт виконує DNS-запити для аналізу конфігурацій системи доменних імен. 
Він запитує DNS кореневі сервери щодо авторитетних серверів імен для заданого домену та розв'язує їх IP-адреси.
Скрипт підтримує різні типи DNS-записів (A, AAAA, MX, TXT, SOA, CAA) і записує результати у файли.

## Огляд функціональності:
- **Логування**: Інформація, попередження та помилки записуються у два файли (`dns_output.txt`, `dns_output_all.txt`) та в консоль.
- **Розв'язування DNS**: Скрипт може розв'язувати записи NS (Name Server) для заданого домену, отримувати асоційовані IP-адреси та запитувати різні DNS-записи.
- **Вивід у JSON**: Результати зберігаються у двох JSON-файлах: один містить фінальний результат, а інший додає всі результати.

## Функції:
1. `convert_bytes(obj)`: Перетворює об'єкти байтів у рядки рекурсивно для логування та виводу у JSON.
2. `get_ns_from_response(response)`: Витягує записи NS з DNS-відповіді.
3. `get_glue_ips(response, ns_name)`: Отримує IP-адреси glue-записів для заданих імен NS.
4. `resolve_ns_ip(ns_name)`: Розв'язує записи A та AAAA для заданого NS-імені.
5. `query_authoritative_ns(domain)`: Отримує авторитетні NS-записи для вказаного домену через кореневі сервери.
6. `resolve_all_ns_ips(ns_names)`: Розв'язує всі IP-адреси для списку імен NS.
7. `query_ns_ip(domain, ns, ip, record_types)`: Запитує вказані типи DNS-записів з даного NS-імені та IP-адреси.
8. `analyze_domain(domain)`: Головна функція, що відповідає за аналіз домену та обробку запитів.
9. `save_to_json_w(data, filename)`: Зберігає результати у JSON-файл (перезаписує).
10. `save_to_json_a(data, filename)`: Зберігає результати у JSON-файл (додає).

## Використання:
Щоб запустити скрипт, виконайте його в командному рядку Python. 
Користувач буде запрошений ввести домен для аналізу. Результати будуть збережені у JSON-файлах, а також записані у лог-файли.

### Приклад запуску:
```bash
python dns_test.py
